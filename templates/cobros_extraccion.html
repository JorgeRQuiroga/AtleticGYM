{% extends "base.html" %}
{% load static %}
{% block title %}Registrar Extracción{% endblock %}

{% block content %}
<div class="container py-4">

  <div class="card bg-dark text-light shadow-sm border-secondary">
    <!-- Header -->
    <div class="card-header d-flex justify-content-between align-items-center bg-transparent">
      <h1 class="h4 mb-0 text-warning">
        <i class="bi bi-wallet2 me-2"></i> Registrar Extracción de Dinero
      </h1>

      <div class="text-end small text-white">
        <div><strong class="text-light">Usuario:</strong> {{ request.user.username }}</div>
        <div><strong class="text-light">Caja abierta desde:</strong> {{ caja.fecha_apertura|date:"d/m/Y H:i" }}</div>
      </div>
    </div>

    <!-- Form -->
    <form method="post" class="card-body" novalidate>
      {% csrf_token %}
      {{ form.non_field_errors }}

      <div class="row g-3">

        <div class="col-md-6">
          <label class="form-label text-danger">{{ form.monto.label }}</label>
          {{ form.monto }}
          {% if form.monto.errors %}
            <div class="form-text text-danger small">{{ form.monto.errors|striptags }}</div>
          {% else %}
            <div class="form-text text-muted small">Ingrese el monto a extraer (sin símbolos).</div>
          {% endif %}
        </div>

        <div class="col-md-6">
          <label class="form-label text-danger">{{ form.motivo.label }}</label>
          {{ form.motivo }}
          {% if form.motivo.errors %}
            <div class="form-text text-danger small">{{ form.motivo.errors|striptags }}</div>
          {% endif %}
        </div>

      </div>

      <hr class="border-secondary my-4">

      <div class="d-flex justify-content-between">
        <a href="{% url 'cobros_lista' %}" class="btn btn-outline-light">
          <i class="bi bi-arrow-left me-1"></i> Cancelar
        </a>

        <button type="submit" class="btn btn-danger">
          <i class="bi bi-cash me-1"></i> Registrar Extracción
        </button>
      </div>
    </form>
  </div>
</div>

<!-- Estilos locales para mejorar contraste y foco sin cambiar funcionalidad -->

{% endblock %}
